<head>
  <title>calendar</title>
</head>

<body>
  {{> head}}
  {{> calendar}}
</body>

<template name="head">
<div class="navbar navbar-inverse navbar-top">
	<div class="navbar-inner">
        <div class="container">
             <span class="brand">Mite Zyt-Rächnig für's Jahr
             <button id="lastyear" class="btn btn-mini btn-danger" type="button" value="{{current.lastyear}}">-</button>
             {{current.year}}
             <button id="nextyear" class="btn btn-mini btn-success" type="button" value="{{current.nextyear}}">+</button>
             </span>
        </div>
        <div class="container">
        	{{> settings}}
        </div>
    </div>
</div>
</template>

<template name="settings">
	<form class="form-inline" action="POST">
    	<fieldset>
        	<label>
       			Mite API-Key:
       		</label>
       		<input id='apiKey' type='text' name='apiKey' placeholder='Diin API-Key' value=''>
       		<br />
       		<label>
        			Mite Host (dä teil vor mite.yo.lk):
       		</label>
       		{{#if miteHost}}
       			<span id='miteHost'>{{miteHost}}</span>
			{{else}}
        		<input id='miteHost' type='text' name='miteHost' placeholder='diin Mite Host' value=''>
       		{{/if}}
       		<br />
       		<label>
       			Teilzytgrad:
       		</label>
       		{{#if tzg}}
       			{{tzg}}
       			<input id='tzg' type='hidden' name='tzg' value='{{tzg}}'>
        	{{else}}
        		<input id='tzg' type='text' name='tzg' placeholder='Teilzytgrad' value=''>
       		{{/if}}%
			<br />
       		<button id='saveSettings' class='btn'>speicherä</button>
       	</fieldset>
	</form>
</template>

<template name="settings_saved">
    <small>¯
      <a id="optout" href="#">not {{user.name}} ({{user.email}})?</a>
    </small>
</template>

<template name="calendar">
	
		<div class="calendar">
		{{#each months}}
			<ol class="month">
				<li class="monthtitle">
				{{this.name}}
				</li>
				<li class="daystitle">
			    	MO
			    </li>	
				<li class="daystitle">
			    	DI
			    </li>	
				<li class="daystitle">
			    	MI
			    </li>	
				<li class="daystitle">
			    	DO
			    </li>	
				<li class="daystitle">
			    	FR
			    </li>	
				<li class="daystitle">
			    	SA
			    </li>	
				<li class="daystitle">
			    	SO
			    </li>	
			    {{#each this.days_before}}
					<li class="lastmonth">{{this}}</li>
				{{/each}}
				{{#each this.days}}
					<li class="currentmonth">
						{{this}}
						<p>
						<span class="soll">8.24</span>
						<span class="ist">8.13</span></br>
						<span class="total">13d 0.8h<span>
						</p>
					</li>
				{{/each}}
				{{#each this.days_after}}
					<li class="nextmonth">{{this}}</li>
				{{/each}}
				{{#if this.empty_line}}
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>	
				<li class="emptyday">
			    </li>
				{{/if}}
			</ol>

		{{/each}}
	</div>
</template>